# Generated by Django 5.0 on 2023-12-06 17:16

from os import getenv
from typing import TYPE_CHECKING, cast
from django.db import migrations

if TYPE_CHECKING:
    from api.user.models import User as UserModel


def create_superuser(apps, schema_editor):
    User = cast("UserModel", apps.get_model("user", "User"))
    User.objects.create_superuser(
        username=getenv("ADMIN_USERNAME", "admin"),
        password=getenv("ADMIN_PASSWORD", "admin"),
        email=getenv("ADMIN_EMAIL", "admin@admin.com"),
    )


class Migration(migrations.Migration):
    dependencies = [
        ("user", "0001_initial"),
    ]

    operations = [
        migrations.RunPython(create_superuser),
    ]
